diff --git a/node_modules/@sqlrooms/vega/dist/VegaLiteChart.js b/node_modules/@sqlrooms/vega/dist/VegaLiteChart.js
index 1419c4c..87d3ba0 100644
--- a/node_modules/@sqlrooms/vega/dist/VegaLiteChart.js
+++ b/node_modules/@sqlrooms/vega/dist/VegaLiteChart.js
@@ -1,5 +1,5 @@
 import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
-import { useSql } from '@sqlrooms/duckdb';
+import { useSql, arrowTableToJson } from '@sqlrooms/duckdb';
 import { AspectRatio, cn, useAspectRatioDimensions } from '@sqlrooms/ui';
 import { safeJsonParse } from '@sqlrooms/utils';
 import { useMemo, useRef } from 'react';
@@ -82,7 +82,7 @@ export const VegaLiteChart = ({ className, width = 'auto', height = 'auto', aspe
     const data = useMemo(() => {
         if (!result.data)
             return null;
-        return { [DATA_NAME]: result.data.toArray() };
+        return { [DATA_NAME]: arrowTableToJson(result.data.arrowTable) };
     }, [result.data]);
     return (_jsxs("div", { ref: containerRef, className: cn('flex h-full w-full flex-col gap-2 overflow-hidden', className), children: [result.error && (_jsx("div", { className: "whitespace-pre-wrap font-mono text-sm text-red-500", children: result.error.message })), _jsx(AspectRatio, { ratio: aspectRatio, children: refinedSpec && data && _jsx(VegaLite, { spec: refinedSpec, data: data }) })] }));
 };
